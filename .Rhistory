MALADIE %in% c('FIEVRE JAUNE', 'CHOLERA'),
DEBUTSEM <= Sys.Date()
) %>%
# mutate(month_year = as.Date(DEBUTSEM, format = '%m/%d/%y') %>% format("%b-%y")) %>%
mutate(
date = as.Date(DEBUTSEM, format = '%m/%d/%y'),
month = lubridate::month(date, label = TRUE),
month_year = format(date, "%b")
) %>%
select_(.dots = c('PROV', 'ZS', 'date', 'month', 'month_year', 'MALADIE', 'TOTALCAS', 'ATTAQ'))
df_tmp <-
df %>%
filter(
MALADIE %in% c('FIEVRE JAUNE', 'CHOLERA'),
DEBUTSEM <= Sys.Date()
) %>%
# mutate(month_year = as.Date(DEBUTSEM, format = '%m/%d/%y') %>% format("%b-%y")) %>%
mutate(
date = as.Date(DEBUTSEM, format = '%m/%d/%y'),
month_year = format(date, "%b-%y"),
month = format(date, "%b")
) %>%
select_(.dots = c('PROV', 'ZS', 'date', 'month_year', 'month', 'MALADIE', 'TOTALCAS', 'ATTAQ'))
df_tmp
ggplot(df_tmp) +
# geom_bar(aes(x = DEBUTSEM, y = TOTALCAS), stat = 'identity') +
# scale_x_date(date_labels = "%b %y") +
# geom_bar(aes(x = month_year, y = TOTALCAS), stat = 'identity') +
geom_bar(aes(x = month, y = TOTALCAS), stat = 'identity') +
# geom_bar(aes(x = month, y = TOTALCAS, fill = MALADIE), stat = 'identity') +
theme_bw() +
facet_wrap(~ PROV)
df_tmp <-
df %>%
filter(
MALADIE %in% c('FIEVRE JAUNE', 'CHOLERA'),
DEBUTSEM <= Sys.Date()
) %>%
# mutate(month_year = as.Date(DEBUTSEM, format = '%m/%d/%y') %>% format("%b-%y")) %>%
mutate(
date = as.Date(DEBUTSEM, format = '%m/%d/%y'),
month_year = format(date, "%b-%y")
month = lubridate::month(date, label = TRUE),
) %>%
select_(.dots = c('PROV', 'ZS', 'date', 'month_year', 'month', 'MALADIE', 'TOTALCAS', 'ATTAQ'))
df_tmp <-
df %>%
filter(
MALADIE %in% c('FIEVRE JAUNE', 'CHOLERA'),
DEBUTSEM <= Sys.Date()
) %>%
# mutate(month_year = as.Date(DEBUTSEM, format = '%m/%d/%y') %>% format("%b-%y")) %>%
mutate(
date = as.Date(DEBUTSEM, format = '%m/%d/%y'),
month_year = format(date, "%b-%y"),
month = lubridate::month(date, label = TRUE)
) %>%
select_(.dots = c('PROV', 'ZS', 'date', 'month_year', 'month', 'MALADIE', 'TOTALCAS', 'ATTAQ'))
df_tmp
ggplot(df_tmp) +
# geom_bar(aes(x = DEBUTSEM, y = TOTALCAS), stat = 'identity') +
# scale_x_date(date_labels = "%b %y") +
# geom_bar(aes(x = month_year, y = TOTALCAS), stat = 'identity') +
geom_bar(aes(x = month, y = TOTALCAS), stat = 'identity') +
# geom_bar(aes(x = month, y = TOTALCAS, fill = MALADIE), stat = 'identity') +
theme_bw() +
facet_wrap(~ PROV)
ggplot(df_tmp) +
# geom_bar(aes(x = DEBUTSEM, y = TOTALCAS), stat = 'identity') +
# scale_x_date(date_labels = "%b %y") +
# geom_bar(aes(x = month_year, y = TOTALCAS), stat = 'identity') +
# geom_bar(aes(x = month, y = TOTALCAS), stat = 'identity') +
geom_bar(aes(x = month, y = TOTALCAS, fill = MALADIE), stat = 'identity') +
theme_bw() +
facet_wrap(~ PROV)
df_tmp
df_tmp <-
df %>%
filter(
MALADIE %in% c('FIEVRE JAUNE', 'CHOLERA'),
DEBUTSEM <= Sys.Date()
) %>%
mutate(
date = as.Date(DEBUTSEM, format = '%m/%d/%y'),
month_year = format(date, "%b-%y"),
month = lubridate::month(date, label = TRUE)
) %>%
select_(.dots = c('PROV', 'ZS', 'date', 'month_year', 'month', 'MALADIE', 'TOTALCAS', 'ATTAQ')) %>%
arrange(MALADIE, date)
ggplot(df_tmp) +
# geom_bar(aes(x = DEBUTSEM, y = TOTALCAS), stat = 'identity') +
# scale_x_date(date_labels = "%b %y") +
# geom_bar(aes(x = month_year, y = TOTALCAS), stat = 'identity') +
# geom_bar(aes(x = month, y = TOTALCAS), stat = 'identity') +
geom_bar(aes(x = month, y = TOTALCAS, fill = MALADIE), stat = 'identity') +
theme_bw() +
facet_wrap(~ PROV)
ggplot(df_tmp) +
# geom_bar(aes(x = DEBUTSEM, y = TOTALCAS), stat = 'identity') +
# scale_x_date(date_labels = "%b %y") +
# geom_bar(aes(x = month_year, y = TOTALCAS), stat = 'identity') +
# geom_bar(aes(x = month, y = TOTALCAS), stat = 'identity') +
geom_bar(aes(x = month, y = TOTALCAS, fill = MALADIE), stat = 'identity') +
theme_bw() +
facet_wrap(~ PROV) %>%
ggplotly()
p <-
ggplot(df_tmp) +
# geom_bar(aes(x = DEBUTSEM, y = TOTALCAS), stat = 'identity') +
# scale_x_date(date_labels = "%b %y") +
# geom_bar(aes(x = month_year, y = TOTALCAS), stat = 'identity') +
# geom_bar(aes(x = month, y = TOTALCAS), stat = 'identity') +
geom_bar(aes(x = month, y = TOTALCAS, fill = MALADIE), stat = 'identity') +
theme_bw() +
facet_wrap(~ PROV)
ggplotly(p)
df_tmp <-
df %>%
filter(
MALADIE %in% c('FIEVRE JAUNE', 'CHOLERA'),
DEBUTSEM <= Sys.Date()
) %>%
mutate(
date = as.Date(DEBUTSEM, format = '%m/%d/%y'),
month_year = format(date, "%b-%y"),
month = lubridate::month(date, label = TRUE)
) %>%
select_(.dots = c('PROV', 'ZS', 'date', 'month_year', 'month', 'MALADIE', 'TOTALCAS', 'ATTAQ')) %>%
arrange(MALADIE, date) %>%
ungroup()
p <-
ggplot(df_tmp) +
# geom_bar(aes(x = DEBUTSEM, y = TOTALCAS), stat = 'identity') +
# scale_x_date(date_labels = "%b %y") +
# geom_bar(aes(x = month_year, y = TOTALCAS), stat = 'identity') +
# geom_bar(aes(x = month, y = TOTALCAS), stat = 'identity') +
geom_bar(aes(x = month, y = TOTALCAS, fill = MALADIE), stat = 'identity') +
theme_bw() +
facet_wrap(~ PROV)
ggplotly(p)
p <-
ggplot(df_tmp) +
geom_bar(aes(x = date, y = TOTALCAS), stat = 'identity') +
scale_x_date(date_labels = "%b %y") +
# geom_bar(aes(x = month, y = TOTALCAS, fill = MALADIE), stat = 'identity') +
theme_bw() +
facet_wrap(~ PROV)
p
df_tmp <-
df %>%
mutate(
date = as.Date(DEBUTSEM, format = '%m/%d/%y'),
month_year = format(date, "%b-%y"),
month = lubridate::month(date, label = TRUE)
) %>%
filter(
MALADIE %in% c('FIEVRE JAUNE', 'CHOLERA'),
date <= Sys.Date()
) %>%
select_(.dots = c('PROV', 'ZS', 'date', 'month_year', 'month', 'MALADIE', 'TOTALCAS', 'ATTAQ')) %>%
arrange(MALADIE, date) %>%
ungroup()
p <-
ggplot(df_tmp) +
geom_bar(aes(x = date, y = TOTALCAS), stat = 'identity') +
scale_x_date(date_labels = "%b %y") +
# geom_bar(aes(x = month, y = TOTALCAS, fill = MALADIE), stat = 'identity') +
theme_bw() +
facet_wrap(~ PROV)
p
Sys.Date()
df_tmp
as.Date('2016-01-01')
df_tmp <-
df %>%
mutate(
date = as.Date(DEBUTSEM, format = '%m/%d/%y'),
month_year = format(date, "%b-%y"),
month = lubridate::month(date, label = TRUE)
) %>%
filter(
MALADIE %in% c('FIEVRE JAUNE', 'CHOLERA'),
date <= Sys.Date(),
date >= as.Date('2016-01-01')
) %>%
select_(.dots = c('PROV', 'ZS', 'date', 'month_year', 'month', 'MALADIE', 'TOTALCAS', 'ATTAQ')) %>%
arrange(MALADIE, date) %>%
ungroup()
df_tmp
df_tmp <-
df %>%
mutate(
date = as.Date(DEBUTSEM, format = '%m/%d/%y'),
month_year = format(date, "%b-%y"),
month = lubridate::month(date, label = TRUE)
) %>%
filter(
MALADIE %in% c('FIEVRE JAUNE', 'CHOLERA'),
date <= Sys.Date(),
date >= as.Date('2016-01-01')
) %>%
select_(.dots = c('PROV', 'ZS', 'date', 'month_year', 'month', 'MALADIE', 'TOTALCAS', 'ATTAQ')) %>%
arrange(MALADIE, date) %>%
ungroup()
p <-
ggplot(df_tmp) +
geom_bar(aes(x = date, y = TOTALCAS), stat = 'identity') +
scale_x_date(date_labels = "%b %y") +
# geom_bar(aes(x = month, y = TOTALCAS, fill = MALADIE), stat = 'identity') +
theme_bw() +
facet_wrap(~ PROV)
p
ggplotly(p)
p <-
ggplot(df_tmp) +
# geom_bar(aes(x = date, y = TOTALCAS), stat = 'identity') +
# scale_x_date(date_labels = "%b %y") +
geom_bar(aes(x = month, y = TOTALCAS, fill = MALADIE), stat = 'identity') +
theme_bw() +
facet_wrap(~ PROV)
p
ggplotly(p)
ggplot(df_tmp) +
# geom_bar(aes(x = date, y = TOTALCAS), stat = 'identity') +
# scale_x_date(date_labels = "%b %y") +
geom_bar(aes(x = month, y = TOTALCAS, fill = MALADIE), stat = 'identity') +
theme_bw()
p <-
ggplot(df_tmp) +
# geom_bar(aes(x = date, y = TOTALCAS), stat = 'identity') +
# scale_x_date(date_labels = "%b %y") +
geom_bar(aes(x = month, y = TOTALCAS, fill = MALADIE), stat = 'identity') +
theme_bw()
ggplotly(p)
df_tmp %>%
group_by(PROV, month_year) %>%
# group_by(PROV, DEBUTSEM) %>%
summarise(n = sum(TOTALCAS, na.rm = TRUE)) %>%
tidyr::spread(key = month_year, value = n, fill = 0)
df_tmp2 <-
df_tmp %>%
group_by(PROV, month_year) %>%
summarise(n = sum(TOTALCAS, na.rm = TRUE)) %>%
tidyr::spread(key = month, value = n, fill = 0)
df_tmp <-
df %>%
mutate(
date = as.Date(DEBUTSEM, format = '%m/%d/%y'),
month_year = format(date, "%b-%y"),
month = lubridate::month(date, label = TRUE)
) %>%
filter(
MALADIE %in% c('FIEVRE JAUNE', 'CHOLERA'),
date <= Sys.Date(),
date >= as.Date('2016-01-01')
) %>%
select_(.dots = c('PROV', 'ZS', 'date', 'month_year', 'month', 'MALADIE', 'TOTALCAS', 'ATTAQ')) %>%
arrange(MALADIE, date)
df_tmp2 <-
df_tmp %>%
group_by(PROV, month) %>%
summarise(n = sum(TOTALCAS, na.rm = TRUE)) %>%
tidyr::spread(key = month, value = n, fill = 0)
knitr::kable(df_tmp2)
df_tmp2 <-
df_tmp %>%
group_by(PROV, month_year, month) %>%
summarise(n = sum(TOTALCAS, na.rm = TRUE)) %>%
tidyr::spread(key = month, value = n, fill = 0)
knitr::kable(df_tmp2)
df_tmp2 <-
df_tmp %>%
group_by(PROV, month_year, month) %>%
summarise(n = sum(TOTALCAS, na.rm = TRUE)) %>%
tidyr::spread(key = month, value = n, -month_year, fill = 0)
?spread
df_tmp2 <-
df_tmp %>%
group_by(PROV, month_year, month) %>%
summarise(n = sum(TOTALCAS, na.rm = TRUE)) %>%
tidyr::spread(key = month, value = n, -'month_year', fill = 0)
df_tmp2 <-
df_tmp %>%
group_by(PROV, month_year, month) %>%
summarise(n = sum(TOTALCAS, na.rm = TRUE)) %>%
tidyr::spread(key = month, value = n, -(month_year), fill = 0)
df_tmp %>%
group_by(PROV, month_year, month) %>%
summarise(n = sum(TOTALCAS, na.rm = TRUE))
df_tmp2 <-
df_tmp %>%
group_by(PROV, month_year, month) %>%
summarise(n = sum(TOTALCAS, na.rm = TRUE)) %>%
select(-month_year) %>%
tidyr::spread(key = month, value = n, fill = 0)
knitr::kable(df_tmp2)
df_tmp2 <-
df_tmp %>%
group_by(PROV, month_year, month) %>%
summarise(n = sum(TOTALCAS, na.rm = TRUE)) %>%
ungroup() %>%
select(-month_year) %>%
tidyr::spread(key = month, value = n, fill = 0)
knitr::kable(df_tmp2)
df_tmp2 <-
df_tmp %>%
group_by(PROV, month_year, month) %>%
summarise(n = sum(TOTALCAS, na.rm = TRUE)) %>%
ungroup %>%
select(-month_year) %>%
tidyr::spread(key = month, value = n, fill = 0)
knitr::kable(df_tmp2)
df_tmp2 <-
df_tmp %>%
group_by(MALADIE, PROV, month_year, month) %>%
summarise(n = sum(TOTALCAS, na.rm = TRUE)) %>%
ungroup %>%
select(-month_year) %>%
tidyr::spread(key = month, value = n, fill = 0)
knitr::kable(df_tmp2)
df_tmp2
df_tmp
df_tmp %>%
group_by(MALADIE, PROV, month_year, month) %>%
summarise(n = sum(TOTALCAS, na.rm = TRUE)) %>%
ungroup %>%
select(-month_year)
tidyr::spread(df_tmp2, key = month, value = n, fill = 0)
df_tmp2 <-
df_tmp %>%
group_by(MALADIE, PROV, month_year, month) %>%
summarise(n = sum(TOTALCAS, na.rm = TRUE)) %>%
ungroup %>%
select(-month_year)
tidyr::spread(df_tmp2, key = month, value = n, fill = 0)
knitr::kable(tidyr::spread(df_tmp2, key = month, value = n, fill = 0))
tidyr::spread(df_tmp2, key = month, value = n, fill = 0) %>% knitr::kable
tidyr::spread(df_tmp2, key = month, value = n, fill = 0) %>% knitr::kable(.)
df_tmp2 %>%
tidyr::spread(key = month, value = n, fill = 0) %>%
knitr::kable(.)
df_tmp2
p <-
ggplot(df_tmp2) +
# geom_bar(aes(x = date, y = TOTALCAS), stat = 'identity') +
# scale_x_date(date_labels = "%b %y") +
geom_bar(aes(x = month, y = n, fill = MALADIE), stat = 'identity') +
theme_bw() +
facet_wrap(~ PROV)
p
ggplotly(p)
p
df_tmp
df
df_tmp <-
df %>%
mutate(
date = as.Date(DEBUTSEM, format = '%m/%d/%y'),
month_year = format(date, "%b-%y"),
month = lubridate::month(date, label = TRUE)
) %>%
filter(
MALADIE %in% c('FIEVRE JAUNE', 'CHOLERA'),
date <= Sys.Date(),
date >= as.Date('2016-01-01')
) %>%
select_(.dots = c('PROV', 'ZS', 'POP', 'date', 'month_year', 'month', 'MALADIE', 'TOTALCAS', 'TOTALDECES')) %>%
arrange(MALADIE, date)
df_tmp2 <-
df_tmp %>%
group_by(MALADIE, PROV, month_year, month) %>%
summarise(n = sum(TOTALCAS, na.rm = TRUE)) %>%
ungroup %>%
select(-month_year)
df_tmp2
df_tmp2 %>%
tidyr::spread(key = month, value = n, fill = 0) %>%
knitr::kable(.)
df_tmp2 %>%
tidyr::spread(key = month, value = n, fill = 0) %>%
knitr::kable()
ggplot(df_tmp2) +
geom_line(aes(x = month, y = n, fill = MALADIE), stat = 'identity')
df_tmp2
ggplot(df_tmp2) +
geom_line(aes(x = month, y = n, group = PROV, fill = MALADIE), stat = 'identity')
ggplot(df_tmp2) +
geom_line(aes(x = month, y = n, group = PROV, colour = MALADIE), stat = 'identity')
ggplot(df_tmp2) +
geom_line(aes(x = month, y = n, colour = MALADIE), stat = 'identity') +
theme_bw() +
facet_wrap(~ PROV)
ggplot(df_tmp2) +
geom_line(aes(x = month, y = n, colour = MALADIE), stat = 'identity') +
theme_bw()
ggplot(df_tmp2) +
geom_line(aes(x = month, y = n, group = PROV, colour = MALADIE), stat = 'identity') +
theme_bw()
df_tmp2
?geom_line
df_tmp2
df_tmp2 <-
df_tmp %>%
group_by(MALADIE, PROV, month_year, month) %>%
summarise(n = sum(TOTALCAS, na.rm = TRUE)) %>%
ungroup %>%
select(-month_year) %>%
arrange(MALADIE, PROV, month)
df_tmp2
ggplot(df_tmp2) +
geom_line(aes(x = month, y = n, fill = PROV, colour = MALADIE), stat = 'identity') +
theme_bw()
df_tmp2
?group
nlme::Oxboys
?group
df_tmp2
nlme::Oxboys %>% head()
ggplot(df_tmp2) +
geom_line(aes(x = month, y = n, group = PROV+MALADIE, colour = MALADIE), stat = 'identity') +
theme_bw()
ggplot(df_tmp2) +
geom_line(aes(x = month, y = n, group = c(PROV, MALADIE), colour = MALADIE), stat = 'identity') +
theme_bw()
ggplot(df_tmp2) +
geom_line(aes(x = month, y = n, group = cat(PROV, MALADIE), colour = MALADIE), stat = 'identity') +
theme_bw()
ggplot(df_tmp2) +
geom_line(aes(x = month, y = n, group = paste0(PROV, MALADIE), colour = MALADIE), stat = 'identity') +
theme_bw()
ggplot(df_tmp2) +
geom_line(aes(x = month, y = n, group = paste0(PROV, MALADIE), colour = MALADIE), stat = 'identity') +
theme_bw() +
facet_wrap(~ MALADIES)
ggplot(df_tmp2) +
geom_line(aes(x = month, y = n, group = PROV, colour = MALADIE), stat = 'identity') +
theme_bw() +
facet_wrap(~ MALADIES)
df_tmp2
ggplot(df_tmp2) +
geom_line(aes(x = month, y = n, group = PROV, colour = MALADIE), stat = 'identity') +
theme_bw() +
facet_wrap(~ MALADIE)
ggplot(df_tmp2) +
geom_line(aes(x = month, y = n, group = PROV, colour = PROV), stat = 'identity') +
theme_bw() +
facet_wrap(~ MALADIE)
ggplot(df_tmp2) +
geom_line(aes(x = month, y = n, colour = PROV), stat = 'identity') +
theme_bw() +
facet_wrap(~ MALADIE)
ggplot(df_tmp2) +
geom_line(aes(x = month, y = n, group = PROV, colour = PROV), stat = 'identity') +
theme_bw() +
facet_wrap(~ MALADIE)
ggplot(df_tmp2) +
geom_line(aes(x = month, y = n, group = MALADIE, colour = MALADIE), stat = 'identity') +
theme_bw() +
facet_wrap(~ PROV)
ggplot(df_tmp2) +
geom_line(aes(x = month, y = n, group = paste0(PROV, MALADIE), colour = MALADIE), stat = 'identity') +
theme_bw()
p <-
ggplot(df_tmp2) +
geom_line(aes(x = month, y = n, group = MALADIE, colour = MALADIE), stat = 'identity') +
theme_bw() +
facet_wrap(~ PROV)
ggplotly(p)
?ggplotly
ggplotly(p, tooltip = c('x', 'y')) %>%
layout(showlegend = FALSE)
ggplotly(p, tooltip = c('group', 'x', 'y')) %>%
layout(showlegend = FALSE)
ggplotly(p, tooltip = c('PROV', 'group', 'x', 'y')) %>%
layout(showlegend = FALSE)
p <-
ggplot(df_tmp2) +
geom_bar(aes(x = month, y = n, fill = MALADIE), stat = 'identity') +
theme_bw() +
facet_wrap(~ PROV)
p
ggplotly(p, tooltip = c('group', 'x', 'y')) %>%
layout(showlegend = FALSE)
ggplotly(p, tooltip = c('fill', 'x', 'y')) %>%
layout(showlegend = FALSE)
p <-
ggplot(df_tmp2) +
geom_bar(aes(x = month, y = n, fill = MALADIE), stat = 'identity') +
theme_bw() +
facet_wrap(~ MALADIE)
p
df_tmp2 %>%
tidyr::spread(key = month, value = n, fill = 0) %>%
knitr::kable()
df_tmp2
df_tmp2 %>%
tidyr::spread(key = month, value = n, fill = 0) %>%
knitr::kable()
df_tmp2 %>%
tidyr::spread(key = month, value = n, fill = 0)
df_tmp
df
install.packages("purrr")
install.packages("ReporteRs")
install.packages("rJava")
install.packages("ReporteRs")
install.packages("R.methodsS3")
install.packages("R.oo")
install.packages("feather")
install.packages("R.oo")
library("R.methodsS3", lib.loc="~/Repositories/yellow_fever/packrat/lib/x86_64-apple-darwin15.6.0/3.3.1")
install.packages("R.oo")
